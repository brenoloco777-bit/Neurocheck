<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neurocheck | Avaliação Especializada TDAH</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; -webkit-font-smoothing: antialiased; }
        .bg-mesh { background: radial-gradient(at 0% 0%, rgba(99, 102, 241, 0.05) 0px, transparent 50%), radial-gradient(at 100% 100%, rgba(59, 130, 246, 0.05) 0px, transparent 50%); background-color: #ffffff; }
        .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.5); }
        .cooldown-active { pointer-events: none; opacity: 0.4; filter: grayscale(1); }
        .selected-option { border-color: #4f46e5 !important; background-color: #f5f3ff !important; color: #4f46e5 !important; }
    </style>
</head>
<body class="bg-mesh min-h-screen text-slate-900">
    <div id="app"></div>

    <script>
        let etapa = 'inicio';
        let perguntaAtual = 0;
        let cooldown = 5;
        let timer;
        let opcaoSelecionada = null;

        const perguntas = [
            "Dificuldade em manter a atenção em tarefas monótonas ou repetitivas?",
            "Distração fácil com estímulos externos ou pensamentos irrelevantes?",
            "Dificuldade em organizar tarefas e atividades do dia a dia?",
            "Relutância em iniciar tarefas que exigem esforço mental prolongado?",
            "Perda frequente de objetos necessários (chaves, documentos, celular)?",
            "Esquecimento de compromissos ou tarefas cotidianas importantes?",
            "Dificuldade em prestar atenção a detalhes, cometendo erros por descuido?",
            "Parece não ouvir quando alguém fala diretamente com você?",
            "Dificuldade em seguir instruções e terminar deveres ou tarefas?",
            "Agita as mãos ou os pés, ou se remexe na cadeira?",
            "Levanta-se da cadeira em situações onde se espera que fique sentado?",
            "Sente-se inquieto ou corre em situações inapropriadas?",
            "Dificuldade em realizar atividades de lazer silenciosamente?",
            "Age como se estivesse 'ligado por um motor' ou a mil por hora?",
            "Fala excessivamente em situações sociais ou de trabalho?",
            "Responde a perguntas antes mesmo de serem concluídas?",
            "Dificuldade em esperar sua vez em filas ou conversas?",
            "Interrompe ou se intromete em conversas ou jogos de outros?",
            "Dificuldade em priorizar o que é mais importante no momento?",
            "Descreva brevemente como esses sintomas afetam sua rotina atual e o que te motivou a fazer este teste hoje:"
        ];

        function render() {
            const app = document.getElementById('app');
            
            if (etapa === 'inicio') {
                app.innerHTML = `
                    <div class="max-w-4xl mx-auto px-6 py-12 md:py-24 text-center">
                        <div class="inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-indigo-600 to-blue-500 shadow-2xl shadow-indigo-200 mb-10">
                            <i data-lucide="brain" class="text-white w-10 h-10"></i>
                        </div>
                        <h1 class="text-5xl md:text-6xl font-extrabold text-slate-900 mb-6 tracking-tight">
                            Avaliação <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-blue-500">Neurocheck</span>
                        </h1>
                        <p class="text-xl text-slate-500 max-w-2xl mx-auto mb-12 leading-relaxed font-medium">
                            Identifique padrões de comportamento através de nossa avaliação clínica especializada de 20 questões.
                        </p>

                        <div class="grid md:grid-cols-3 gap-6 mb-16">
                            <div class="glass p-8 rounded-[32px] shadow-sm">
                                <div class="w-12 h-12 rounded-2xl bg-indigo-50 flex items-center justify-center mb-4 mx-auto text-indigo-600"><i data-lucide="clock"></i></div>
                                <h3 class="font-bold text-slate-800 text-sm">8 minutos</h3>
                            </div>
                            <div class="glass p-8 rounded-[32px] shadow-sm">
                                <div class="w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center mb-4 mx-auto text-blue-600"><i data-lucide="check-circle-2"></i></div>
                                <h3 class="font-bold text-slate-800 text-sm">Protocolo ASRS</h3>
                            </div>
                            <div class="glass p-8 rounded-[32px] shadow-sm">
                                <div class="w-12 h-12 rounded-2xl bg-emerald-50 flex items-center justify-center mb-4 mx-auto text-emerald-600"><i data-lucide="shield-check"></i></div>
                                <h3 class="font-bold text-slate-800 text-sm">Privado</h3>
                            </div>
                        </div>

                        <button onclick="iniciarTeste()" class="bg-slate-900 text-white px-12 py-6 rounded-2xl font-bold text-xl hover:scale-105 transition-all active:scale-95 shadow-xl shadow-slate-200">
                            Iniciar Avaliação
                        </button>
                    </div>`;
            } else if (etapa === 'teste') {
                const progresso = ((perguntaAtual + 1) / perguntas.length) * 100;
                const isUltima = perguntaAtual === perguntas.length - 1;

                app.innerHTML = `
                    <div class="max-w-2xl mx-auto px-6 py-12 min-h-screen flex flex-col">
                        <div class="flex items-center justify-between mb-8">
                            <span class="text-xs font-black text-slate-300 uppercase tracking-[0.2em]">Pergunta ${perguntaAtual + 1}/${perguntas.length}</span>
                            <span class="text-xs font-bold text-indigo-600 bg-indigo-50 px-3 py-1 rounded-full">${Math.round(progresso)}%</span>
                        </div>
                        <div class="w-full bg-slate-100 h-1.5 rounded-full mb-16 overflow-hidden">
                            <div class="bg-indigo-600 h-full transition-all duration-700" style="width: ${progresso}%"></div>
                        </div>

                        <div class="flex-1">
                            <h2 class="text-2xl md:text-3xl font-bold text-slate-800 mb-10 leading-tight">${perguntas[perguntaAtual]}</h2>
                            
                            <div class="space-y-3">
                                ${!isUltima ? `
                                    ${['Nunca', 'Raramente', 'Às vezes', 'Frequentemente', 'Muito frequentemente'].map((opt, index) => `
                                        <button onclick="selecionarOpcao(${index})" class="w-full text-left p-6 rounded-2xl border-2 transition-all font-bold text-slate-600 ${opcaoSelecionada === index ? 'selected-option' : 'border-slate-100 bg-white hover:border-slate-300'} ${cooldown > 0 ? 'cooldown-active' : ''}">
                                            <div class="flex items-center justify-between">
                                                <span>${opt}</span>
                                                ${opcaoSelecionada === index ? '<i data-lucide="check-circle-2" class="w-5 h-5"></i>' : ''}
                                            </div>
                                        </button>
                                    `).join('')}
                                    
                                    <div class="mt-10">
                                        <button onclick="enviarResposta()" id="btnEnviar" class="w-full bg-slate-900 text-white py-6 rounded-2xl font-bold text-lg transition-all shadow-xl shadow-slate-200 flex items-center justify-center gap-3 ${opcaoSelecionada === null ? 'opacity-20 cursor-not-allowed grayscale' : 'hover:bg-indigo-600 active:scale-95'}">
                                            Enviar resposta <i data-lucide="arrow-right" class="w-5 h-5"></i>
                                        </button>
                                    </div>
                                ` : `
                                    <textarea id="respostaEscrita" oninput="validarEscrita()" rows="5" class="w-full p-6 rounded-2xl border-2 border-slate-100 focus:border-indigo-600 focus:outline-none font-medium text-slate-700 placeholder:text-slate-300 transition-all bg-slate-50/50" placeholder="Sua resposta aqui..."></textarea>
                                    <button onclick="enviarResposta()" id="btnFinalizar" class="w-full bg-indigo-600 text-white py-6 rounded-2xl font-bold text-lg transition-all shadow-lg shadow-indigo-100 mt-6 opacity-20 cursor-not-allowed grayscale">
                                        Finalizar Teste
                                    </button>
                                `}
                            </div>
                        </div>
                        
                        <div class="pt-8 text-center">
                            ${cooldown > 0 && !isUltima ? `
                                <p class="text-xs font-bold text-indigo-400 tracking-widest uppercase">Aguarde ${cooldown}s para liberar as opções</p>
                            ` : ''}
                        </div>
                    </div>`;
            } else if (etapa === 'paywall') {
                app.innerHTML = `
                    <div class="max-w-md mx-auto px-6 py-20 text-center">
                        <div class="w-20 h-20 bg-emerald-500 rounded-full flex items-center justify-center mx-auto mb-8 text-white shadow-2xl shadow-emerald-100">
                            <i data-lucide="check" class="w-10 h-10"></i>
                        </div>
                        <h2 class="text-4xl font-extrabold text-slate-900 mb-4 tracking-tighter">Análise Concluída</h2>
                        <p class="text-slate-500 mb-12 font-medium">Seu perfil neurocognitivo foi processado. O relatório técnico está pronto.</p>
                        
                        <div class="bg-white p-10 rounded-[48px] shadow-2xl border border-slate-50 relative">
                            <div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-indigo-600 text-white px-5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-indigo-100 italic">Relatório Oficial</div>
                            
                            <ul class="text-left space-y-6 mb-12 pt-4">
                                <li class="flex items-center gap-4 text-slate-700 font-bold text-sm underline decoration-slate-100 underline-offset-8 decoration-4"><i data-lucide="bar-chart-3" class="text-indigo-600"></i> Gráfico de Sintomas</li>
                                <li class="flex items-center gap-4 text-slate-700 font-bold text-sm underline decoration-slate-100 underline-offset-8 decoration-4"><i data-lucide="file-down" class="text-indigo-600"></i> Laudo em PDF</li>
                            </ul>

                            <div class="flex items-center justify-center gap-3 mb-10">
                                <span class="text-slate-300 line-through font-bold">R$ 29,90</span>
                                <span class="text-5xl font-black text-slate-900 tracking-tighter">R$ 9,49</span>
                            </div>

                            <button onclick="window.location.href='https://buy.stripe.com/SEU_LINK_AQUI'" class="w-full bg-slate-900 text-white py-6 rounded-3xl font-bold text-xl hover:bg-indigo-600 hover:scale-[1.02] transition-all shadow-xl shadow-slate-200 mb-8">
                                Obter meu Resultado
                            </button>

                            <div class="flex justify-center gap-6 opacity-30 grayscale items-center">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/a/a2/Logo%E2%80%94Pix.svg" class="h-4" alt="Pix">
                                <i data-lucide="credit-card" class="w-6 h-6"></i>
                                <i data-lucide="lock" class="w-4 h-4"></i>
                            </div>
                        </div>
                    </div>`;
            }
            lucide.createIcons();
        }

        function iniciarTeste() { etapa = 'teste'; startCooldown(); render(); }
        
        function startCooldown() {
            cooldown = 5;
            opcaoSelecionada = null; // Reseta a seleção a cada nova pergunta
            clearInterval(timer);
            timer = setInterval(() => {
                cooldown--;
                if(cooldown <= 0) { clearInterval(timer); cooldown = 0; }
                render();
            }, 1000);
        }

        function selecionarOpcao(index) {
            opcaoSelecionada = index;
            render();
        }

        function validarEscrita() {
            const txt = document.getElementById('respostaEscrita').value;
            const btn = document.getElementById('btnFinalizar');
            if(txt.length > 5) {
                btn.classList.remove('opacity-20', 'grayscale', 'cursor-not-allowed');
                btn.classList.add('hover:scale-105');
            } else {
                btn.classList.add('opacity-20', 'grayscale', 'cursor-not-allowed');
            }
        }

        function enviarResposta() {
            const isUltima = perguntaAtual === perguntas.length - 1;
            
            // Se for múltipla escolha e nada selecionado, não faz nada
            if (!isUltima && opcaoSelecionada === null) return;
            
            // Se for escrita e estiver vazio, não faz nada
            if (isUltima && document.getElementById('respostaEscrita').value.length < 5) return;

            if (perguntaAtual < perguntas.length - 1) {
                perguntaAtual++;
                startCooldown();
                render();
            } else {
                etapa = 'paywall';
                render();
            }
        }

        render();
    </script>
</body>
</html>
